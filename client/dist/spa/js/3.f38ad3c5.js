(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"21f3":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"flex flex-center column"},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-toolbar-title",[e._v("Public transport experiences")])],1)],1),e.isRegister?s("q-card",{staticClass:"container"},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[e._v("Register")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("div",{staticClass:"q-pa-md"},[s("q-card-section",{staticClass:"q-gutter-md"},[s("q-input",{attrs:{filled:"",label:"First Name"},model:{value:e.register.firstName,callback:function(t){e.$set(e.register,"firstName",t)},expression:"register.firstName"}}),s("q-input",{attrs:{filled:"",label:"Last Name"},model:{value:e.register.lastName,callback:function(t){e.$set(e.register,"lastName",t)},expression:"register.lastName"}}),s("q-input",{attrs:{filled:"",label:"Email"},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}}),s("q-input",{attrs:{filled:"",label:"Password",type:e.isPwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1)],1),s("q-card-actions",{staticClass:"bg-white text-primary flex flex-center"},[s("q-btn",{attrs:{color:"primary",label:"REGISTER"},on:{click:e.onRegister}}),s("q-btn",{attrs:{label:"BACK"},on:{click:function(t){e.isRegister=!1}}})],1)],1):s("q-card",{staticClass:"container"},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[e._v("Auth")])]),s("div",{staticClass:"q-pa-md"},[s("q-card-section",{staticClass:"q-gutter-md"},[s("q-input",{attrs:{filled:"",label:"Email"},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}}),s("q-input",{attrs:{filled:"",label:"Password",type:e.isPwd2?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}],null,!1,869177772),model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1)],1),s("q-card-actions",{staticClass:"bg-white text-primary flex flex-center"},[s("q-btn",{attrs:{color:"primary",label:"LOGIN"},on:{click:e.onLogin}}),s("q-btn",{attrs:{label:"REGISTER"},on:{click:function(t){e.isRegister=!0}}})],1)],1)],1)},i=[],r={name:"MainPage",data:function(){return{isPwd:!0,isPwd2:!0,firstName:"",lastName:"",accessCode:"",email:"",login:{email:"",password:""},register:{firstName:"",lastName:"",email:"",password:""},isRegister:!1}},beforeMount:function(){this.$q.localStorage.getItem("user")&&this.$router.push("/")},methods:{onLogin:function(){var e=this;this.$axios.post("/api/login",{email:this.login.email,password:this.login.password}).then((function(t){e.$q.notify({color:"primary",message:"login successful"}),e.$q.localStorage.set("user",t.data),e.$router.push("/")})).catch((function(t){e.$q.notify({color:"negative",message:t.response.data.message})}))},onRegister:function(){var e=this;this.$axios.post("/api/register",{email:this.register.email,password:this.register.password,firstName:this.register.firstName,lastName:this.register.lastName}).then((function(t){e.$q.notify({color:"primary",message:t.data.message}),e.isRegister=!1})).catch((function(t){switch(t.response.status){case 400:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))}}},o=r,n=(s("aba9"),s("2877")),l=s("eebe"),c=s.n(l),p=s("9989"),d=s("e359"),u=s("65c6"),f=s("6ac5"),m=s("f09f"),g=s("a370"),b=s("27f9"),w=s("0016"),q=s("4b7e"),h=s("9c40"),v=s("2c91"),x=s("7f67"),y=Object(n["a"])(o,a,i,!1,null,null,null);t["default"]=y.exports;c()(y,"components",{QPage:p["a"],QHeader:d["a"],QToolbar:u["a"],QToolbarTitle:f["a"],QCard:m["a"],QCardSection:g["a"],QInput:b["a"],QIcon:w["a"],QCardActions:q["a"],QBtn:h["a"],QSpace:v["a"]}),c()(y,"directives",{ClosePopup:x["a"]})},"22b6":function(e,t,s){var a=s("24fb");t=a(!1),t.push([e.i,".container{width:500px}.enter.q-btn{width:100%;margin-top:20px}.q-input{width:100%}",""]),e.exports=t},"54e2":function(e,t,s){var a=s("22b6");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=s("499e").default;i("1b71c682",a,!0,{sourceMap:!1})},aba9:function(e,t,s){"use strict";var a=s("54e2"),i=s.n(a);i.a}}]);